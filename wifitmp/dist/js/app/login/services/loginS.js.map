{"version":3,"sources":["app/login/services/loginS.js"],"names":["define","$","_","Backbone","Bootstrap","LoginV","xhr","tpl","MainV","loginS","login","e","that","self","this","userid","val","passwd","m","model","set","validate","flag","progressBar","ajax","reponse","reset","mask","addClass","append","proDiv","pr","a","si","setInterval","css","clearInterval","remove","mainV","username","render"],"mappings":"AAAAA,QACC,SACA,aACA,WACA,YACA,kBACA,gBACA,qCACA,wBACE,SAASC,EAAEC,EAAEC,EAASC,EAAUC,EAAOC,EAAIC,EAAIC,GAChD,GAAIC,IAEHC,MAAM,SAASC,EAAEC,GAChB,GAAIC,GAAOC,IACXD,GAAKE,OAASd,EAAE,WAAWe,MAC3BH,EAAKI,OAAShB,EAAE,WAAWe,KAC3B,IAAIE,IACHH,OAAOF,EAAKE,OACZE,OAAOJ,EAAKI,OAGTL,GAAKO,MAAMC,IAAIF,GAAGG,UAAU,MAC/BR,EAAKS,MAAO,EACZT,EAAKU,cAELjB,EAAIkB,KAAK,oBAAoB,MAAM,SAASC,GAE3CZ,EAAKS,MAAO,MAOfI,MAAM,SAASf,EAAEC,KAIjBW,YAAY,WACX,GAAIV,GAAOC,KACPa,EAAO1B,EAAE,cACb0B,GAAKC,SAAS,QACd3B,EAAE,QAAQ4B,OAAOF,EAEjB,IAAIG,GAAS7B,EAAE,cACf6B,GAAOF,SAAS,eAChB,IAAIG,GAAK9B,EAAEM,EACXuB,GAAOD,OAAOE,GACd9B,EAAE,QAAQ4B,OAAOC,EAEjB,IAAIE,GAAI,EACJC,EAAKC,YAAY,WAIpB,GAFAjC,EAAE,iBAAiBkC,IAAI,QAASH,EAAE,GAAI,KACtCA,GAAM,GACA,KAAHA,EAAQ,CACV,GAAGnB,EAAKS,KAAK,CACZc,cAAcH,GACdN,EAAKU,SACLP,EAAOO,SACPpC,EAAE,aAAaoC,QACf,IAAIC,GAAQ,GAAI9B,EAEhB8B,GAAMC,SAAS1B,EAAKE,OACpBuB,EAAME,SAEPR,EAAE,IAEF,MAGJ,OAAOvB","file":"app/login/services/loginS.js","sourcesContent":["define([\r\n\t'jquery',\r\n\t'underscore',\r\n\t'backbone',\r\n\t'bootstrap',\r\n\t'../views/LoginV',\r\n\t'app/utils/xhr',\r\n\t'text/text!../template/progress.tpl',\r\n\t'app/main/views/MainV'\r\n\t],function($,_,Backbone,Bootstrap,LoginV,xhr,tpl,MainV){\r\n\t\tvar loginS = {\r\n\t\t\t//loginV\r\n\t\t\tlogin:function(e,that){\r\n\t\t\t\tvar self = this;\r\n\t\t\t\tself.userid = $('#userid').val();\r\n\t\t\t\tself.passwd = $('#passwd').val();\r\n\t\t\t\tvar m = {\r\n\t\t\t\t\tuserid:self.userid,\r\n\t\t\t\t\tpasswd:self.passwd\r\n\t\t\t\t};\r\n\r\n\t\t\t\tif (that.model.set(m,{validate: true})) {\r\n\t\t\t\t\tself.flag = false;\r\n\t\t\t\t\tself.progressBar();\r\n\r\n\t\t\t\t\txhr.ajax('data/data.json',{},'GET',function(reponse){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tself.flag = true;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\r\n\t\t\t},\r\n\t\t\treset:function(e,that){\r\n\r\n\t\t\t},\r\n\r\n\t\t\tprogressBar:function(){\r\n\t\t\t\tvar self = this;\r\n\t\t\t\tvar mask = $('<div></div>');\r\n\t\t\t\tmask.addClass('mask');\r\n\t\t\t\t$('body').append(mask);\r\n\t\t\t\t\r\n\t\t\t\tvar proDiv = $('<div></div>');\r\n\t\t\t\tproDiv.addClass('progress-div');\r\n\t\t\t\tvar pr = $(tpl);\r\n\t\t\t\tproDiv.append(pr);\r\n\t\t\t\t$('body').append(proDiv);\r\n\r\n\t\t\t\tvar a = 0;\r\n\t\t\t\tvar si = setInterval(function(){\r\n\t\t\t\t\t//$('.progress-bar')[0].style.width=(a+10)+'%';\r\n\t\t\t\t\t$('.progress-bar').css('width',(a+10)+'%');\r\n\t\t\t\t\ta = a+10;\r\n\t\t\t\t\tif(a==100 ){\r\n\t\t\t\t\t\tif(self.flag){\r\n\t\t\t\t\t\t\tclearInterval(si);\r\n\t\t\t\t\t\t\tmask.remove();\r\n\t\t\t\t\t\t\tproDiv.remove();\r\n\t\t\t\t\t\t\t$('#loginDiv').remove();\r\n\t\t\t\t\t\t\tvar mainV = new MainV();\r\n\t\t\t\t\t\t\t//mainV.model.set({username:self.userid});\r\n\t\t\t\t\t\t\tmainV.username=self.userid;\r\n\t\t\t\t\t\t\tmainV.render();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ta=0;\r\n\t\t\t\t\t}\r\n\t\t\t\t},200);\r\n\t\t\t}\r\n\t\t};\r\n\t\treturn loginS;\r\n\r\n});"],"sourceRoot":"/source/"}